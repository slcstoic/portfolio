# Dynamically generated by Chef - local modifications will be overwritten

/var/log/<%= @nginx_instance_name %>/*.log {
  weekly
  missingok
  rotate 52
  compress
  delaycompress
  notifempty
  create 0640 <%= @run_user %> <%= @run_group.nil? ? @run_user : @run_group %>
  sharedscripts
  prerotate
    if [ -d /etc/logrotate.d/httpd-prerotate ]; then \
      run-parts /etc/logrotate.d/httpd-prerotate; \
    fi \
  endscript
  postrotate
    [ -s /run/<%= @nginx_instance_name %>.pid ] && kill -USR1 `cat /run/<%= @nginx_instance_name %>.pid`
  endscript
}
